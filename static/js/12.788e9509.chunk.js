(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[12],{1031:function(e,t,n){var r=n(479);e.exports=function(e,t){var n=-1,c=e.length,a=c-1;for(t=void 0===t?c:t;++n<t;){var i=r(n,a),o=e[i];e[i]=e[n],e[n]=o}return e.length=t,e}},1297:function(e,t,n){var r=n(1298),c=n(1299),a=n(100);e.exports=function(e){return(a(e)?r:c)(e)}},1298:function(e,t,n){var r=n(486),c=n(1031);e.exports=function(e){return c(r(e))}},1299:function(e,t,n){var r=n(1031),c=n(480);e.exports=function(e){return r(c(e))}},1550:function(e,t,n){"use strict";n.r(t);var r,c,a,i=n(0),o=n(84),s=n(69),u=n(214),l=n(338),b=n(345),d=n(813),j=n(126),f=n(755),p=n(15),O=n(7),m=n(5),h=n(30),x=n(2),v=n.n(x),g=n(11),S=n(12),y=n(6),k=n(37),C=n(128),w=Object(C.parseUnits)("1"),E=Object(C.parseUnits)("0.5"),I=["5","6","7","8","9"],D=n(1),A=w.add(E),N=A.mul(5),T={isInitialized:!1,currentStep:0,teamId:null,selectedNft:{collectionAddress:null,tokenId:null},userName:"",minimumCakeRequired:A,allowance:N},M=function(e,t){switch(t.type){case"initialize":return Object(y.a)(Object(y.a)({},e),{},{isInitialized:!0,currentStep:t.step});case"next_step":return Object(y.a)(Object(y.a)({},e),{},{currentStep:e.currentStep+1});case"set_team":return Object(y.a)(Object(y.a)({},e),{},{teamId:t.teamId});case"set_selected_nft":return Object(y.a)(Object(y.a)({},e),{},{selectedNft:{tokenId:t.tokenId,collectionAddress:t.collectionAddress}});case"set_username":return Object(y.a)(Object(y.a)({},e),{},{userName:t.userName});default:return e}},P=Object(i.createContext)(null),L=function(e){var t=e.children,n=Object(i.useReducer)(M,T),r=Object(S.a)(n,2),c=r[0],a=r[1],s=Object(o.c)().account;Object(i.useEffect)((function(){var e=!0;return s&&function(){var t=Object(g.a)(v.a.mark((function t(){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(k.c)(),t.next=3,n.canMint(s);case 3:r=t.sent,a({type:"initialize",step:r?0:1}),e&&a({type:"initialize",step:r?0:1});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[s,a]);var u=Object(i.useMemo)((function(){return{nextStep:function(){return a({type:"next_step"})},setTeamId:function(e){return a({type:"set_team",teamId:e})},setSelectedNft:function(e,t){return a({type:"set_selected_nft",tokenId:e,collectionAddress:t})},setUserName:function(e){return a({type:"set_username",userName:e})}}}),[a]);return Object(D.jsx)(P.Provider,{value:Object(y.a)(Object(y.a)({},c),{},{actions:u}),children:t})},U=O.e.div(r||(r=Object(p.a)(["\n  border-bottom: 2px solid ",";\n  margin-top: 32px;\n  margin-bottom: 24px;\n  padding-bottom: 24px;\n"])),(function(e){return e.theme.colors.textSubtle})),_=["Get Starter Collectible","Set Profile Picture","Join Team","Set Name"],z=function(){var e=Object(h.b)().t,t=Object(i.useContext)(P).currentStep;return Object(D.jsxs)(U,{children:[Object(D.jsx)(m.bb,{as:"h1",scale:"xxl",color:"secondary",mb:"8px",id:"profile-setup-title",children:e("Profile Setup")}),Object(D.jsx)(m.bb,{as:"h2",scale:"lg",mb:"8px",children:e("Show off your stats and collectibles with your unique profile")}),Object(D.jsx)(m.tc,{color:"textSubtle",mb:"8px",children:e("Total cost: 1.5 CAKE")}),Object(D.jsx)(m.lb,{href:"".concat(j.b,"/profile"),children:Object(D.jsx)(m.t,{mb:"24px",scale:"sm",variant:"secondary",children:e("Back to profile")})}),Object(D.jsx)(m.p,{children:_.map((function(n,r){return Object(D.jsx)(m.tc,{color:r<=t?"text":"textDisabled",children:e(n)},n)}))})]})},R=n(339),F=function(){var e=Object(h.b)().t;return Object(D.jsxs)("div",{children:[Object(D.jsx)(m.bb,{scale:"xl",mb:"8px",children:e("Oops!")}),Object(D.jsx)(m.tc,{as:"p",mb:"16px",children:e("Please connect your wallet to continue")}),Object(D.jsx)(R.a,{})]})},q=n(768),B=n(61),W=n(758),Y=n(216),J=n(780),X=n(168),H=n(98),Z=n(341),K=n(58),G=n(848),Q=function(e){return Object(D.jsx)(m.t,Object(y.a)({endIcon:Object(D.jsx)(m.f,{color:"currentColor"})},e))},V=function(){return Object(i.useContext)(P)},$=function(){var e=Object(i.useState)(""),t=Object(S.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)([]),a=Object(S.a)(c,2),s=a[0],u=a[1],l=V(),b=l.actions,d=l.minimumCakeRequired,p=l.allowance,O=Object(f.f)(),x=Object(X.a)().toastSuccess,k=Object(H.b)(),E=Object(o.c)().account,A=Object(B.d)(),N=Object(B.b)(),T=Object(h.b)().t,M=Object(W.e)(),P=M.balance,L=M.fetchStatus===W.a.SUCCESS&&P.gte(w),U=Object(Y.a)().callWithGasPrice;Object(i.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.q)(j.c);case 2:t=e.sent,n=t.data,r=I.map((function(e){if(n&&n[e])return Object(y.a)(Object(y.a)({},n[e]),{},{bunnyId:e})})),u(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===s.length&&e()}),[s]);var _=Object(q.a)({onRequiresApproval:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.allowance(E,N.address);case 3:return t=e.sent,e.abrupt("return",t.gte(d));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),onApprove:function(){return U(A,"approve",[N.address,p.toString()])},onConfirm:function(){return U(N,"mintNFT",[n])},onApproveSuccess:function(){x("Enabled","Press 'confirm' to mint this NFT")},onSuccess:function(){x("Success","You have minted your starter NFT"),k(Object(Z.h)({account:E,collections:O})),b.nextStep()}}),z=_.isApproving,R=_.isApproved,F=_.isConfirmed,$=_.isConfirming,ee=_.handleApprove,te=_.handleConfirm;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(m.tc,{fontSize:"20px",color:"textSubtle",bold:!0,children:T("Step %num%",{num:1})}),Object(D.jsx)(m.bb,{as:"h3",scale:"xl",mb:"24px",children:T("Get Starter Collectible")}),Object(D.jsx)(m.tc,{as:"p",children:T("Every profile starts by making a \u201cstarter\u201d collectible (NFT).")}),Object(D.jsx)(m.tc,{as:"p",children:T("This starter will also become your first profile picture.")}),Object(D.jsx)(m.tc,{as:"p",mb:"24px",children:T("You can change your profile pic later if you get another approved Pancake Collectible.")}),Object(D.jsx)(m.y,{mb:"24px",children:Object(D.jsxs)(m.z,{children:[Object(D.jsx)(m.bb,{as:"h4",scale:"lg",mb:"8px",children:T("Choose your Starter!")}),Object(D.jsx)(m.tc,{as:"p",color:"textSubtle",children:T("Choose wisely: you can only ever make one starter collectible!")}),Object(D.jsx)(m.tc,{as:"p",mb:"24px",color:"textSubtle",children:T("Cost: %num% CAKE",{num:Object(C.formatUnits)(w)})}),s.map((function(e){return Object(D.jsx)(G.a,{name:"mintStarter",value:null===e||void 0===e?void 0:e.bunnyId,image:null===e||void 0===e?void 0:e.image.thumbnail,isChecked:n===(null===e||void 0===e?void 0:e.bunnyId),onChange:function(e){return r(e)},disabled:z||$||F||!L,children:Object(D.jsx)(m.tc,{bold:!0,children:null===e||void 0===e?void 0:e.name})},null===e||void 0===e?void 0:e.name)})),!L&&Object(D.jsx)(m.tc,{color:"failure",mb:"16px",children:T("A minimum of %num% CAKE is required",{num:Object(C.formatUnits)(w)})}),Object(D.jsx)(J.b,{isApproveDisabled:null===n||F||$||R,isApproving:z,isConfirmDisabled:!R||F||!L,isConfirming:$,onApprove:ee,onConfirm:te})]})}),Object(D.jsx)(Q,{onClick:b.nextStep,disabled:!F,children:T("Next Step")})]})},ee=n(117),te=n(33),ne=n(80),re=Object(O.e)(ee.a)(c||(c=Object(p.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),ce=O.e.div(a||(a=Object(p.a)(["\n  margin-bottom: 24px;\n"]))),ae=function(){var e=Object(o.c)(),t=e.library,n=e.account,r=Object(i.useState)(!1),c=Object(S.a)(r,2),a=c[0],s=c[1],u=Object(i.useState)(!1),l=Object(S.a)(u,2),b=l[0],p=l[1],O=Object(i.useContext)(P),x=O.selectedNft,y=O.actions,C=Object(f.k)(),w=C.nfts,E=C.userNftsInitializationState;Object(d.a)(n);var I=Object(h.b)().t,A=Object(X.a)(),N=A.toastError,T=A.toastSuccess,M=Object(Y.a)().callWithGasPrice,L=function(){var e=Object(g.a)(v.a.mark((function e(){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(k.m)(x.collectionAddress,t.getSigner()),e.next=3,M(n,"approve",[Object(te.r)(),x.tokenId]);case 3:return r=e.sent,p(!0),e.next=7,r.wait();case 7:e.sent.status?(T(I("Enabled"),I("Please progress to the next step.")),p(!1),s(!0)):(N(I("Error"),I("Please try again. Confirm the transaction and make sure you are paying enough gas!")),p(!1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 0===w.length&&E===ne.d.INITIALIZED?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(m.bb,{scale:"xl",mb:"24px",children:I("Oops!")}),Object(D.jsx)(m.tc,{bold:!0,fontSize:"20px",mb:"24px",children:I("We couldn\u2019t find any Pancake Collectibles in your wallet.")}),Object(D.jsx)(m.tc,{as:"p",children:I("You need a Pancake Collectible to finish setting up your profile. If you sold or transferred your starter collectible to another wallet, you\u2019ll need to get it back or acquire a new one somehow. You can\u2019t make a new starter with this wallet address.")})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(m.tc,{fontSize:"20px",color:"textSubtle",bold:!0,children:I("Step %num%",{num:2})}),Object(D.jsx)(m.bb,{as:"h3",scale:"xl",mb:"24px",children:I("Set Profile Picture")}),Object(D.jsx)(m.y,{mb:"24px",children:Object(D.jsxs)(m.z,{children:[Object(D.jsx)(m.bb,{as:"h4",scale:"lg",mb:"8px",children:I("Choose collectible")}),Object(D.jsx)(m.tc,{as:"p",color:"textSubtle",children:I("Choose a profile picture from the eligible collectibles (NFT) in your wallet, shown below.")}),Object(D.jsxs)(m.tc,{as:"p",color:"textSubtle",mb:"24px",children:[I("Only approved Pancake Collectibles can be used."),Object(D.jsx)(re,{to:"".concat(j.b,"/collections"),style:{marginLeft:"4px"},children:I("See the list >")})]}),Object(D.jsx)(ce,{children:w.map((function(e){var t=w[0].tokenId;return Object(D.jsx)(G.a,{name:"profilePicture",value:t,image:e.image.thumbnail,isChecked:t===x.tokenId,onChange:function(t){return y.setSelectedNft(t,e.collectionAddress)},children:Object(D.jsx)(m.tc,{bold:!0,children:e.name})},e.tokenId)}))}),Object(D.jsx)(m.bb,{as:"h4",scale:"lg",mb:"8px",children:I("Allow collectible to be locked")}),Object(D.jsx)(m.tc,{as:"p",color:"textSubtle",mb:"16px",children:I("The collectible you've chosen will be locked in a smart contract while it\u2019s being used as your profile picture. Don't worry - you'll be able to get it back at any time.")}),Object(D.jsx)(m.t,{isLoading:b,disabled:a||b||null===x.tokenId,onClick:L,endIcon:b?Object(D.jsx)(m.i,{spin:!0,color:"currentColor"}):void 0,id:"approveStarterCollectible",children:I("Enable")})]})}),Object(D.jsx)(Q,{onClick:y.nextStep,disabled:null===x.tokenId||!a||b,children:I("Next Step")})]})},ie=n(1297),oe=n.n(ie),se=n(837),ue=function(){var e=V(),t=e.teamId,n=e.actions,r=Object(h.b)().t,c=Object(se.b)().teams,a=function(e){return n.setTeamId(parseInt(e,10))},o=Object(i.useMemo)((function(){return oe()(Object.values(c))}),[c]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(m.tc,{fontSize:"20px",color:"textSubtle",bold:!0,children:r("Step %num%",{num:3})}),Object(D.jsx)(m.bb,{as:"h3",scale:"xl",mb:"24px",children:r("Join a Team")}),Object(D.jsx)(m.tc,{as:"p",mb:"24px",children:r("It won\u2019t be possible to undo the choice you make for the foreseeable future!")}),Object(D.jsx)(m.y,{mb:"24px",children:Object(D.jsxs)(m.z,{children:[Object(D.jsx)(m.bb,{as:"h4",scale:"lg",mb:"8px",children:r("Join a Team")}),Object(D.jsx)(m.tc,{as:"p",color:"textSubtle",mb:"24px",children:r("There\u2019s currently no big difference between teams, and no benefit of joining one team over another for now. So pick whichever one you like!")}),o&&o.map((function(e){return Object(D.jsxs)(G.a,{name:"teams-selection",value:e.id,isChecked:t===e.id,image:"/images/teams/".concat(e.images.md),onChange:a,disabled:!e.isJoinable,children:[Object(D.jsx)(m.tc,{bold:!0,children:e.name}),Object(D.jsxs)(m.Z,{children:[Object(D.jsx)(m.R,{mr:"8px"}),Object(D.jsx)(m.tc,{children:e.users.toLocaleString()})]})]},e.name)}))]})}),Object(D.jsx)(Q,{onClick:n.nextStep,disabled:null===t,children:r("Next Step")})]})},le=n(876),be=n(19),de=n(492),je=n(13),fe=n(493),pe=n(494);function Oe(e){Object(je.a)(1,arguments);var t=Object(be.default)(e);return Object(fe.default)(t).getTime()===Object(pe.default)(t).getTime()}function me(e,t){Object(je.a)(2,arguments);var n,r=Object(be.default)(e),c=Object(be.default)(t),a=Object(le.a)(r,c),i=Math.abs(Object(de.default)(r,c));if(i<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=Object(le.a)(r,c)===-a;Oe(Object(be.default)(e))&&1===i&&1===Object(le.a)(e,c)&&(o=!1),n=a*(i-Number(o))}return 0===n?0:n}var he=n(973),xe=n(235),ve=n(929),ge=n(121),Se=1440,ye=43200;function ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(je.a)(2,arguments);var r=n.locale||xe.a;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var c=Object(le.a)(e,t);if(isNaN(c))throw new RangeError("Invalid time value");var a,i,o=Object(ve.a)(n);o.addSuffix=Boolean(n.addSuffix),o.comparison=c,c>0?(a=Object(be.default)(t),i=Object(be.default)(e)):(a=Object(be.default)(e),i=Object(be.default)(t));var s,u=Object(he.a)(i,a),l=(Object(ge.a)(i)-Object(ge.a)(a))/1e3,b=Math.round((u-l)/60);if(b<2)return n.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,o):u<10?r.formatDistance("lessThanXSeconds",10,o):u<20?r.formatDistance("lessThanXSeconds",20,o):u<40?r.formatDistance("halfAMinute",null,o):u<60?r.formatDistance("lessThanXMinutes",1,o):r.formatDistance("xMinutes",1,o):0===b?r.formatDistance("lessThanXMinutes",1,o):r.formatDistance("xMinutes",b,o);if(b<45)return r.formatDistance("xMinutes",b,o);if(b<90)return r.formatDistance("aboutXHours",1,o);if(b<Se){var d=Math.round(b/60);return r.formatDistance("aboutXHours",d,o)}if(b<2520)return r.formatDistance("xDays",1,o);if(b<ye){var j=Math.round(b/Se);return r.formatDistance("xDays",j,o)}if(b<86400)return s=Math.round(b/ye),r.formatDistance("aboutXMonths",s,o);if((s=me(i,a))<12){var f=Math.round(b/ye);return r.formatDistance("xMonths",f,o)}var p=s%12,O=Math.floor(s/12);return p<3?r.formatDistance("aboutXYears",O,o):p<9?r.formatDistance("overXYears",O,o):r.formatDistance("almostXYears",O+1,o)}var Ce,we,Ee,Ie,De=n(725),Ae=n(53),Ne=n(173),Te=n(23),Me=n(285),Pe=n.n(Me),Le=n(142),Ue=n(154),_e=function(e){var t=e.account,n=e.teamId,r=e.selectedNft,c=e.minimumCakeRequired,a=e.allowance,i=e.onDismiss,o=Object(h.b)().t,s=Object(B.t)(),u=Object(H.b)(),l=Object(X.a)().toastSuccess,b=Object(B.d)(),d=Object(Y.a)().callWithGasPrice,j=Object(q.a)({onRequiresApproval:function(){var e=Object(g.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.allowance(t,s.address);case 3:return n=e.sent,e.abrupt("return",n.gte(c));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),onApprove:function(){return d(b,"approve",[s.address,a.toJSON()])},onConfirm:function(){return d(s,"createProfile",[n,r.collectionAddress,r.tokenId])},onSuccess:function(){var e=Object(g.a)(v.a.mark((function e(n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.receipt,e.next=3,u(Object(Le.c)(t));case 3:i(),l(o("Profile created!"),Object(D.jsx)(Ue.b,{txHash:r.transactionHash}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),f=j.isApproving,p=j.isApproved,O=j.isConfirmed,x=j.isConfirming,S=j.handleApprove,y=j.handleConfirm;return Object(D.jsxs)(m.xb,{title:o("Complete Profile"),onDismiss:i,children:[Object(D.jsx)(m.tc,{color:"textSubtle",mb:"8px",children:o("Submitting NFT to contract and confirming User Name and Team.")}),Object(D.jsxs)(m.Z,{justifyContent:"space-between",mb:"16px",children:[Object(D.jsx)(m.tc,{children:o("Cost")}),Object(D.jsx)(m.tc,{children:o("%num% CAKE",{num:Object(C.formatUnits)(E)})})]}),Object(D.jsx)(J.b,{isApproveDisabled:O||x||p,isApproving:f,isConfirmDisabled:!p||O,isConfirming:x,onApprove:S,onConfirm:y})]})};!function(e){e.IDLE="idle",e.CREATED="created",e.NEW="new"}(Ie||(Ie={}));var ze=O.e.div(Ce||(Ce=Object(p.a)(["\n  position: relative;\n  max-width: 240px;\n"]))),Re=Object(O.e)(m.hb)(we||(we=Object(p.a)(["\n  padding-right: 40px;\n"]))),Fe=Object(O.e)(m.Z)(Ee||(Ee=Object(p.a)(["\n  align-items: center;\n  height: 24px;\n  justify-content: center;\n  margin-top: -12px;\n  position: absolute;\n  right: 16px;\n  top: 50%;\n  width: 24px;\n"]))),qe=function(){var e=Object(i.useState)(!1),t=Object(S.a)(e,2),n=t[0],r=t[1],c=V(),a=c.teamId,s=c.selectedNft,u=c.userName,l=c.actions,b=c.minimumCakeRequired,d=c.allowance,j=Object(h.b)().t,f=Object(o.c)().account,p=Object(X.a)().toastError,O=Object(Te.a)().library,x=Object(i.useState)(Ie.IDLE),y=Object(S.a)(x,2),k=y[0],w=y[1],I=Object(i.useState)(!1),A=Object(S.a)(I,2),N=A[0],T=A[1],M=Object(i.useState)(!1),P=Object(S.a)(M,2),L=P[0],U=P[1],_=Object(i.useState)(""),z=Object(S.a)(_,2),R=z[0],F=z[1],q=Object(W.e)(),B=q.balance,Y=q.fetchStatus===W.a.SUCCESS&&B.gte(E),J=Object(m.Qc)(Object(D.jsx)(_e,{userName:u,selectedNft:s,account:f,teamId:a,minimumCakeRequired:b,allowance:d}),!1),H=Object(S.a)(J,1)[0],Z=k===Ie.CREATED,K=Pe()(function(){var e=Object(g.a)(v.a.mark((function e(t){var n,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),e.next=4,fetch("".concat(Ae.b,"/api/users/valid/").concat(t));case 4:if(!(n=e.sent).ok){e.next=10;break}T(!0),F(""),e.next=15;break;case 10:return e.next=12,n.json();case 12:c=e.sent,T(!1),F(null===c||void 0===c||null===(r=c.error)||void 0===r?void 0:r.message);case 15:return e.prev=15,U(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,,15,18]])})));return function(t){return e.apply(this,arguments)}}(),200),G=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),e.next=4,Object(Ne.c)(O,f,u);case 4:return t=e.sent,e.next=7,fetch("".concat(Ae.b,"/api/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:f,username:u,signature:t})});case 7:if(!(n=e.sent).ok){e.next=12;break}w(Ie.CREATED),e.next=16;break;case 12:return e.next=14,n.json();case 14:c=e.sent,p(j("Error"),null===c||void 0===c||null===(r=c.error)||void 0===r?void 0:r.message);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),p((null===e.t0||void 0===e.t0?void 0:e.t0.message)?e.t0.message:JSON.stringify(e.t0));case 21:return e.prev=21,U(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){f&&function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ae.b,"/api/users/").concat(f));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,t.ok?(r=ke(Object(De.default)(n.created_at),new Date),F(j("Created %dateCreated% ago",{dateCreated:r})),l.setUserName(n.username),w(Ie.CREATED),T(!0)):w(Ie.NEW),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),p(j("Error"),j("Unable to verify username"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[f,w,T,F,l,p,j]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(m.tc,{fontSize:"20px",color:"textSubtle",bold:!0,children:j("Step %num%",{num:4})}),Object(D.jsx)(m.bb,{as:"h3",scale:"xl",mb:"24px",children:j("Set Your Name")}),Object(D.jsx)(m.tc,{as:"p",mb:"24px",children:j("This name will be shown in team leaderboards and search results as long as your profile is active.")}),Object(D.jsx)(m.y,{mb:"24px",children:Object(D.jsxs)(m.z,{children:[Object(D.jsx)(m.bb,{as:"h4",scale:"lg",mb:"8px",children:j("Set Your Name")}),Object(D.jsx)(m.tc,{as:"p",color:"textSubtle",mb:"24px",children:j("Your name must be at least 3 and at most 15 standard letters and numbers long. You can\u2019t change this once you click Confirm.")}),k===Ie.IDLE?Object(D.jsx)(m.Zb,{height:"40px",width:"240px"}):Object(D.jsxs)(ze,{children:[Object(D.jsx)(Re,{onChange:function(e){var t=e.target.value;l.setUserName(t),K(t)},isWarning:u&&!N,isSuccess:u&&N,minLength:3,maxLength:15,disabled:Z,placeholder:j("Enter your name..."),value:u}),Object(D.jsxs)(Fe,{children:[L&&Object(D.jsx)(m.i,{spin:!0}),!L&&N&&u&&Object(D.jsx)(m.J,{color:"success"}),!L&&!N&&u&&Object(D.jsx)(m.Jc,{color:"failure"})]})]}),Object(D.jsx)(m.tc,{color:"textSubtle",fontSize:"14px",py:"4px",mb:"16px",style:{minHeight:"30px"},children:R}),Object(D.jsx)(m.tc,{as:"p",color:"failure",mb:"8px",children:j("Only reuse a name from other social media if you're OK with people viewing your wallet. You can't change your name once you click Confirm.")}),Object(D.jsx)("label",{htmlFor:"checkbox",style:{display:"block",cursor:"pointer",marginBottom:"24px"},children:Object(D.jsxs)(m.Z,{alignItems:"center",children:[Object(D.jsx)("div",{style:{flex:"none"},children:Object(D.jsx)(m.G,{id:"checkbox",scale:"sm",checked:n,onChange:function(){return r(!n)}})}),Object(D.jsx)(m.tc,{ml:"8px",children:j("I understand that people can view my wallet if they know my username")})]})}),Object(D.jsx)(m.t,{onClick:G,disabled:!N||Z||L||!n,children:j("Confirm")})]})}),Object(D.jsx)(m.t,{onClick:H,disabled:!N||!Z,id:"completeProfileCreation",children:j("Complete Profile")}),!Y&&Object(D.jsx)(m.tc,{color:"failure",mt:"16px",children:j("A minimum of %num% CAKE is required",{num:Object(C.formatUnits)(E)})})]})},Be=function(){var e=Object(h.b)().t,t=Object(i.useContext)(P),n=t.isInitialized,r=t.currentStep;return Object(o.c)().account?n?0===r?Object(D.jsx)($,{}):1===r?Object(D.jsx)(ae,{}):2===r?Object(D.jsx)(ue,{}):3===r?Object(D.jsx)(qe,{}):null:Object(D.jsx)("div",{children:e("Loading...")}):Object(D.jsx)(F,{})};t.default=function(){var e=Object(o.c)().account,t=Object(l.d)(),n=t.isInitialized,r=t.isLoading,c=t.hasProfile;return Object(d.a)(e),Object(f.c)(),!n||r?Object(D.jsx)(b.a,{}):e&&c?Object(D.jsx)(s.a,{to:"".concat(j.b,"/profile/").concat(e.toLowerCase())}):Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(L,{children:Object(D.jsxs)(u.b,{children:[Object(D.jsx)(z,{}),Object(D.jsx)(Be,{})]})})})}},755:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"i",(function(){return d})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return m})),n.d(t,"k",(function(){return h})),n.d(t,"h",(function(){return x}));var r=n(0),c=n(26),a=n(98),i=n(126),o=n(41),s=n(341),u=function(){var e=Object(a.b)();Object(r.useEffect)((function(){e(Object(s.d)())}),[e])},l=function(e){var t=Object(a.b)();Object(r.useEffect)((function(){t(Object(s.c)(e))}),[t,e])},b=function(e){var t=Object(a.b)(),n=Object(c.c)((function(e){return e.nftMarket.data.loadingState})),o=n.latestPancakeBunniesUpdateAt,u=n.isUpdatingPancakeBunnies,l=O(e),b=l?l.map((function(e){return e.tokenId})):[],d=p(i.c),j=d?d.map((function(e){return e.tokenId})):[],f=l.length>0?l[0]:null,m=Object(r.useMemo)((function(){return f?{name:f.name,description:f.description,collection:{name:f.collectionName},image:f.image}:null}),[f]);return{isUpdatingPancakeBunnies:u,latestPancakeBunniesUpdateAt:o,fetchMorePancakeBunnies:function(n){t(Object(s.e)({bunnyId:e,existingTokensWithBunnyId:b,allExistingPBTokenIds:j,existingMetadata:m,orderDirection:n}))}}},d=function(){return Object(c.c)((function(e){return e.nftMarket.data.loadingState}))},j=function(){return Object(c.c)((function(e){return e.nftMarket.data.collections}))},f=function(e){var t=Object(o.i)(e)||"";return j()[t]},p=function(e){var t=Object(o.i)(e)||"";return Object(c.c)((function(e){return e.nftMarket.data.nfts[t]}))},O=function(e){var t=Object(c.c)((function(e){return e.nftMarket.data.nfts[i.c]}));return t?t.filter((function(t){return t.attributes[0].value===e&&t.marketData.isTradable})):[]},m=function(){return Object(c.c)((function(e){return e.nftMarket.initializationState}))},h=function(){return Object(c.c)((function(e){return e.nftMarket.data.user}))},x=function(){return Object(c.c)((function(e){return e.nftMarket.data.user})).nfts.some((function(e){var t;return e.attributes&&Number(null===(t=e.attributes[0])||void 0===t?void 0:t.value)<=4}))}},758:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return k}));var r,c=n(2),a=n.n(c),i=n(6),o=n(11),s=n(12),u=n(0),l=n(67),b=n(25),d=n.n(b),j=n(84),f=n(32),p=n(37),O=n(36),m=n(107),h=n(218),x=n(762);!function(e){e.NOT_FETCHED="not-fetched",e.SUCCESS="success",e.FAILED="failed"}(r||(r={}));var v=function(e){var t=r.NOT_FETCHED,n=r.SUCCESS,c=r.FAILED,l=Object(u.useState)({balance:O.c,fetchStatus:t}),b=Object(s.a)(l,2),f=b[0],m=b[1],x=Object(j.c)().account,v=Object(h.a)().fastRefresh;return Object(u.useEffect)((function(){x&&function(){var t=Object(o.a)(a.a.mark((function t(){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(p.b)(e),t.prev=1,t.next=4,r.balanceOf(x);case 4:o=t.sent,m({balance:new d.a(o.toString()),fetchStatus:n}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),m((function(e){return Object(i.a)(Object(i.a)({},e),{},{fetchStatus:c})}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()()}),[x,e,v,n,c]),f},g=function(){var e=Object(h.a)().slowRefresh,t=Object(u.useState)(),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(u.useEffect)((function(){function e(){return(e=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.h)(),e.next=3,t.totalSupply();case 3:n=e.sent,c(new d.a(n.toString()));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e]),r},S=function(e){var t=Object(u.useState)(O.c),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(h.a)().slowRefresh;return Object(u.useEffect)((function(){(function(){var t=Object(o.a)(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(p.b)(e),t.next=3,n.balanceOf("0x000000000000000000000000000000000000dEaD");case 3:r=t.sent,c(new d.a(r.toString()));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,i]),r},y=function(){var e=Object(u.useState)(r.NOT_FETCHED),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(u.useState)(l.a.BigNumber.from(0)),b=Object(s.a)(i,2),d=b[0],f=b[1],p=Object(j.c)().account,O=Object(x.a)(),h=O.lastUpdated,v=O.setLastUpdated;return Object(u.useEffect)((function(){p&&function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.getBalance(p);case 3:t=e.sent,f(t),c(r.SUCCESS),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(r.FAILED);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[p,h,f,c]),{balance:d,fetchStatus:n,refresh:v}},k=function(){var e=v(f.a.cake.address),t=e.balance,n=e.fetchStatus;return{balance:l.a.BigNumber.from(t.toString()),fetchStatus:n}};t.b=v},762:function(e,t,n){"use strict";var r=n(12),c=n(0),a=n(188);t.a=function(){var e=Object(c.useState)(Date.now()),t=Object(r.a)(e,2),n=t[0],i=t[1];return{lastUpdated:n,previousLastUpdated:Object(a.a)(n),setLastUpdated:Object(c.useCallback)((function(){i(Date.now())}),[i])}}},768:function(e,t,n){"use strict";var r=n(2),c=n.n(r),a=n(11),i=n(12),o=n(6),s=n(0),u=n(101),l=n(84),b=n(168),d=n(30),j={approvalState:"idle",confirmState:"idle"},f=function(e,t){switch(t.type){case"requires_approval":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"success"});case"approve_sending":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"loading"});case"approve_receipt":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"success"});case"approve_error":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"fail"});case"confirm_sending":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"loading"});case"confirm_receipt":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"success"});case"confirm_error":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"fail"});default:return e}};t.a=function(e){var t=e.onApprove,n=e.onConfirm,r=e.onRequiresApproval,o=e.onSuccess,p=void 0===o?u.noop:o,O=e.onApproveSuccess,m=void 0===O?u.noop:O,h=Object(d.b)().t,x=Object(l.c)().account,v=Object(s.useReducer)(f,j),g=Object(i.a)(v,2),S=g[0],y=g[1],k=Object(s.useRef)(r),C=Object(b.a)().toastError;return Object(s.useEffect)((function(){x&&k.current&&k.current().then((function(e){e&&y({type:"requires_approval"})}))}),[x,k,y]),{isApproving:"loading"===S.approvalState,isApproved:"success"===S.approvalState,isConfirming:"loading"===S.confirmState,isConfirmed:"success"===S.confirmState,hasApproveFailed:"fail"===S.approvalState,hasConfirmFailed:"fail"===S.confirmState,handleApprove:function(){var e=Object(a.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,y({type:"approve_sending"}),e.next=7,n.wait();case 7:(r=e.sent).status&&(y({type:"approve_receipt"}),m({state:S,receipt:r})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),y({type:"approve_error"}),C(h("Error"),h("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),handleConfirm:function(){var e=Object(a.a)(c.a.mark((function e(){var t,r,a,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},y({type:"confirm_sending"}),e.prev=2,e.next=5,n(t);case 5:return r=e.sent,e.next=8,r.wait();case 8:(a=e.sent).status&&(y({type:"confirm_receipt"}),p({state:S,receipt:a})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),y({type:"confirm_error"}),C(h("Error"),h("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()}}},780:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,c,a,i,o,s=n(15),u=(n(0),n(7)),l=n(5),b=n(30),d=n(1);!function(e){e.ROW="row",e.SEQUENTIAL="sequential"}(o||(o={}));var j=u.e.div(r||(r=Object(s.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: center;\n\n  "," {\n    grid-template-columns: 1fr 24px 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),f=Object(u.e)(l.t)(c||(c=Object(s.a)(["\n  width: 100%;\n\n  "," {\n    min-width: 160px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),p={width:"24px",color:"textDisabled"},O=Object(u.e)(l.M).attrs(p)(a||(a=Object(s.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),m=Object(u.e)(l.K).attrs(p)(i||(i=Object(s.a)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),h=Object(d.jsx)(l.i,{spin:!0,color:"currentColor"});t.b=function(e){var t=e.isApproveDisabled,n=e.isApproving,r=e.isConfirming,c=e.isConfirmDisabled,a=e.onApprove,i=e.onConfirm,s=e.buttonArrangement,u=void 0===s?o.ROW:s,p=e.confirmLabel,x=e.confirmId,v=Object(b.b)().t,g=null!==p&&void 0!==p?p:v("Confirm");return u===o.ROW?Object(d.jsxs)(j,{children:[Object(d.jsx)(l.o,{children:Object(d.jsx)(f,{disabled:t,onClick:a,endIcon:n?h:void 0,isLoading:n,children:v(n?"Enabling":"Enable")})}),Object(d.jsxs)(l.Z,{justifyContent:"center",children:[Object(d.jsx)(O,{}),Object(d.jsx)(m,{})]}),Object(d.jsx)(l.o,{children:Object(d.jsx)(f,{id:x,onClick:i,disabled:c,isLoading:r,endIcon:r?h:void 0,children:r?v("Confirming"):g})})]}):Object(d.jsx)(d.Fragment,{children:t?Object(d.jsx)(l.o,{children:Object(d.jsx)(f,{id:x,onClick:i,disabled:c,isLoading:r,endIcon:r?h:void 0,children:r?v("Confirming"):g})}):Object(d.jsx)(l.o,{children:Object(d.jsx)(f,{onClick:a,endIcon:n?h:void 0,isLoading:n,children:v(n?"Enabling":"Enable")})})})}},808:function(e,t,n){var r=n(470),c=n(472),a=n(220),i=n(100),o=n(169),s=n(281),u=n(283),l=n(282),b=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||l(e)||a(e)))return!e.length;var t=c(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(b.call(e,n))return!1;return!0}},813:function(e,t,n){"use strict";var r=n(0),c=n(808),a=n.n(c),i=n(98),o=n(341),s=n(755),u=n(188),l=n(338),b=n(80);t.a=function(e){var t,n=Object(i.b)(),c=Object(l.d)(),d=c.profile,j=c.isInitialized,f=c.isLoading,p=Object(s.k)().userNftsInitializationState,O=Object(s.f)(),m=null===d||void 0===d?void 0:d.tokenId,h=null===d||void 0===d||null===(t=d.tokenId)||void 0===t?void 0:t.toString(),x=null===d||void 0===d?void 0:d.collectionAddress,v=Object(r.useMemo)((function(){return m?{tokenId:h,collectionAddress:x,nftLocation:b.c.PROFILE}:null}),[h,x,m]),g=Object(u.a)(h),S=e&&p===b.d.UNINITIALIZED&&j&&!f,y=g!==h&&!f;Object(r.useEffect)((function(){!S&&!y||a()(O)||n(Object(o.h)({account:e,collections:O,profileNftWithCollectionAddress:v}))}),[n,e,S,y,h,O,v])}},837:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(0),c=n(26),a=n(98),i=n(357),o=function(e){var t=Object(c.c)((function(t){return t.teams.data[e]})),n=Object(a.b)();return Object(r.useEffect)((function(){n(Object(i.b)(e))}),[e,n]),t},s=function(){var e=Object(c.c)((function(e){return e.teams})),t=e.isInitialized,n=e.isLoading,o=e.data,s=Object(a.b)();return Object(r.useEffect)((function(){s(Object(i.c)())}),[s]),{teams:o,isInitialized:t,isLoading:n}}},848:function(e,t,n){"use strict";var r,c,a,i,o=n(6),s=n(66),u=n(15),l=(n(0),n(7)),b=n(5),d=n(1),j=["name","value","isChecked","image","onChange","disabled","children"],f=l.e.label(r||(r=Object(u.a)(["\n  cursor: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  opacity: ",";\n"])),(function(e){return e.isDisabled?"not-allowed":"pointer"}),(function(e){return e.isDisabled?"0.6":"1"})),p=l.e.div(c||(c=Object(u.a)(["\n  align-items: center;\n  display: flex;\n  flex-grow: 1;\n  height: 80px;\n  padding: 8px 16px;\n"]))),O=l.e.div(a||(a=Object(u.a)(["\n  margin-left: 16px;\n"]))),m=l.e.div(i||(i=Object(u.a)(["\n  align-self: stretch;\n  background-image: url('","');\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  flex: none;\n  width: 80px;\n"])),(function(e){return e.src}));t.a=function(e){var t=e.name,n=e.value,r=e.isChecked,c=void 0!==r&&r,a=e.image,i=e.onChange,u=e.disabled,l=e.children,h=Object(s.a)(e,j);return Object(d.jsx)(b.y,Object(o.a)(Object(o.a)({isSuccess:c,isDisabled:u,mb:"16px"},h),{},{children:Object(d.jsxs)(f,{isDisabled:u,children:[Object(d.jsxs)(p,{children:[Object(d.jsx)(b.Ub,{name:t,checked:c,value:n,onChange:function(e){return i(e.target.value)},disabled:u,style:{flex:"none"}}),Object(d.jsx)(O,{children:l})]}),Object(d.jsx)(m,{src:a})]})}))}},861:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19),c=n(13);function a(e,t){Object(c.a)(2,arguments);var n=Object(r.default)(e),a=Object(r.default)(t);return n.getTime()-a.getTime()}},876:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19),c=n(13);function a(e,t){Object(c.a)(2,arguments);var n=Object(r.default)(e),a=Object(r.default)(t),i=n.getTime()-a.getTime();return i<0?-1:i>0?1:i}},929:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(370);function c(e){return Object(r.a)({},e)}},973:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(861),c=n(13);function a(e,t){Object(c.a)(2,arguments);var n=Object(r.a)(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}}}]);
//# sourceMappingURL=12.788e9509.chunk.js.map